<ion-content class="signup-container">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
  <div class="logo-container">
    <img src="assets/icon/Docly.png" alt="Docly Logo" class="logo" />
  </div>

  <ion-card class="signup-card">
    <ion-card-content>
      <form (submit)="signup($event)">
        <!-- Name -->
        <ion-input class="field" type="text" label="Name" label-placement="floating" fill="outline"
                   placeholder="Enter your name" [(ngModel)]="name" name="name" required
                   autocomplete="name"></ion-input>
        <ion-text color="danger" *ngIf="nameError">Name is required</ion-text>

        <ion-input class="field" type="text" label="Speciality" label-placement="floating" fill="outline"
                   placeholder="Enter your speciality" [(ngModel)]="speciality" name="speciality" required
                   ></ion-input>
        <ion-text color="danger" *ngIf="specialityError">Speciality is required</ion-text>

        <!-- Email -->
        <ion-input class="field" type="email" label="Email" label-placement="floating" fill="outline"
                   placeholder="Enter your email" [(ngModel)]="email" name="email" required
                   autocomplete="email"></ion-input>
        <ion-text color="danger" *ngIf="emailError">Valid email is required</ion-text>

        <!-- Phone -->
        <ion-input class="field" type="tel" label="Phone" label-placement="floating" fill="outline"
                   placeholder="Enter your phone number" [(ngModel)]="phone" name="phone" required
                   autocomplete="tel"></ion-input>
        <ion-text color="danger" *ngIf="phoneError">Valid phone number is required</ion-text>

        <!-- Address -->
        <ion-input class="field" type="text" label="Address" label-placement="floating" fill="outline"
                   placeholder="Enter your address" [(ngModel)]="address" name="address" required
                   autocomplete="address-line1"></ion-input>
        <ion-text color="danger" *ngIf="addressError">Address is required</ion-text>

        <!-- Date of Birth -->
        <ion-item class="field" (click)="openDateModal()" style="border: 1px solid #a1a1a1; color: #7b7b7b;">
          <ion-label>Date of Birth</ion-label>
          <ion-text>{{ dob ? (dob | date:'mediumDate') : 'Select date' }}</ion-text>
        </ion-item>
        <ion-text color="danger" *ngIf="dobError">Valid date of birth is required</ion-text>

        <ion-modal [isOpen]="showDateModal" breakpoints="[0, 0.5, 1]" initialBreakpoint="0.75"
                   (ionModalDidDismiss)="closeDateModal()">
          <ng-template>
            <ion-header>
              <ion-toolbar>
                <ion-title>Select Date</ion-title>
                <ion-buttons slot="end">
                  <ion-button (click)="closeDateModal()">Close</ion-button>
                </ion-buttons>
              </ion-toolbar>
            </ion-header>
            <ion-content class="center-datetime">
              <ion-datetime [(ngModel)]="dob" show-default-buttons="true" show-clear-button="true"
                            presentation="date" max="2025-01-01" name="dob"></ion-datetime>
            </ion-content>
          </ng-template>
        </ion-modal>

        <!-- Password -->
        <ion-input class="field" type="password" label="Password" label-placement="floating" fill="outline"
                   placeholder="Enter your password" [(ngModel)]="password" name="password" required
                   minlength="8" autocomplete="new-password"></ion-input>
        <ion-text color="danger" *ngIf="passwordError">Password must be at least 8 characters</ion-text>

        <!-- Signup Button -->
        <button type="submit" class="signup-button">SIGN UP</button>
      </form>

      <div class="login-link">
        <p>Already have an account? <a routerLink="/login">LOG IN</a></p>
      </div>
    </ion-card-content>
  </ion-card>
</ion-content>
